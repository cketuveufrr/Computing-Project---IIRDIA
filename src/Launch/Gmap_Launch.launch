<launch>
  <!-- Remappage des topics -->
  <remap from="scan" to="/rvr1/scan"/>
  <remap from="odom" to="/rvr1/odom"/>

  <!-- Broadcaster dynamique odom â†’ base_link -->
  <node pkg="rvr_ros"
        type="alors.py"
        name="odom_to_tf_broadcaster"
        output="screen"/>

  <!-- Static transform pour le lidar -->
  <node pkg="tf"
        type="static_transform_publisher"
        name="laser_static_tf"
        args="0 0 0.2 0 0 0 1 base_link laser_frame 100"/>

  <!-- SLAM Gmapping -->
  <node pkg="gmapping"
        type="slam_gmapping"
        name="slam_gmapping"
        output="screen">
    <remap from="scan" to="/rvr1/scan"/>
    <remap from="odom" to="/rvr1/odom"/>
    <param name="odom_frame"          value="odom"/>
    <param name="map_frame"           value="map"/>
    <param name="base_frame"          value="base_link"/>
    <param name="laser_frame"         value="/laser_frame"/>
    <param name="update_interval"     value="0.05"/>
    <param name="map_update_interval" value="2.0"/>
            <param name="linearUpdate" value="0.010"/> <!-- 10 cm -->
        <param name="angularUpdate" value="0.09"/> <!-- About 5 degrees -->
        <param name="temporalUpdate" value="-1.0"/>
                <param name="xmin" value="-4.0"/>
        <param name="xmax" value="4.0"/>
        <param name="ymin" value="-4.0"/>
        <param name="ymax" value="4.0"/>
                <param name="delta" value="0.02"/>
        <param name="maxRange" value="12"/>
        <param name="maxUrange" value=".6"/> 
    <!-- vos autres params -->
  </node>
</launch>
